"use strict";/**
 * 封裝基礎 Http Get
 * @param loadingMsg Loading 顯示文字
 * @param api api 路徑
 * @param successFunc 回應成功 Func
 * @param errorFunc 回應失敗 Func
 */function BaseGetAPI(loadingMsg,api,successFunc,errorFunc){if(loadingMsg)Common.SweetAlertLoading(loadingMsg);debugger;$.ajax({method:"Get",url:api,success:function success(res){if(res.Status==ResponseStatusEnum.Success){Common.SweetAlertSuccess(res.Message,successFunc)}else{Common.SweetAlertError(res.Message,errorFunc)}},error:function error(e){Common.SweetAlertError("\u4F3A\u670D\u5668\u7570\u5E38",errorFunc)}})}/**
 * 封裝基礎 Http Post
 * @param loadingMsg Loading 顯示文字
 * @param api api 路徑
 * @param model 傳送參數 Model
 * @param successFunc 回應成功 Func
 * @param errorFunc 回應失敗 Func
 */function BasePostAPI(loadingMsg,api,model,successFunc,errorFunc){if(loadingMsg)Common.SweetAlertLoading(loadingMsg);$.ajax({method:"POST",url:api,data:JSON.stringify(model),dataType:"json",contentType:"application/json",success:function success(res){if(res.Status==ResponseStatusEnum.Success){Common.SweetAlertSuccess(res.Message,successFunc)}else{Common.SweetAlertError(res.Message,errorFunc)}},error:function error(e){Common.SweetAlertError("\u4F3A\u670D\u5668\u7570\u5E38",errorFunc)}})}/**
 * 登入 API
 */function LoginAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/Login",model,successFunc,errorFunc)}/**
 * Google 第三方登入 API
 */function GoogleLoginAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/GoogleLogin",model,successFunc,errorFunc)}/**
 * 寄送驗證碼 API
 */function SendVCodeAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/SendVCode",model,successFunc,errorFunc)}/**
 * 註冊 API
 */function SignupAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/Signup",model,successFunc,errorFunc)}/**
 * 更新會員公開資訊 API
 */function UpdateMemberPublicInfoAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/UpdateMemberPublicInfo",model,successFunc,errorFunc)}/**
 * 重設密碼 Step1 API
 * 申請重設密碼、建立重設密碼URL
 */function ResetPasswordAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/ResetPassword",model,successFunc,errorFunc)}/**
 * 重設密碼 Step2 API
 */function ResetPasswordConfirmAPI(loadingMsg,model,successFunc,errorFunc){BasePostAPI(loadingMsg,"/MemberApi/ResetPasswordConfirm",model,successFunc,errorFunc)}/**
 * 登出 API
 */function LogoutAPI(loadingMsg,successFunc,errorFunc){BaseGetAPI(loadingMsg,"/MemberApi/Logout",successFunc,errorFunc)}///** 暫無使用 */
////String.prototype.IsNullOrEmptyOrUndefined = function () {
////    return !this;
////}
var Common={/**
     * 刪除錯誤輸入框提示
     * @param e element
     */RemoveErrorInput:function RemoveErrorInput(e){return $(e).removeClass("input-error")},Popup:function Popup(containerID,func){var popBox=$("#"+containerID+"> .popBox")[0];var popLayer=$("#"+containerID+"> .popLayer")[0];popBox.style.display=popLayer.style.display="block";if(func!==undefined)func},/**
     * 關閉彈窗
     * @param containerID containerID
     * @param func func
     */ClosePopup:function ClosePopup(containerID,func){var popBox=$("#"+containerID+"> .popBox")[0];var popLayer=$("#"+containerID+"> .popLayer")[0];popBox.style.display=popLayer.style.display="none";if(func!==undefined)func},/**
     * 驗證輸入框
     * @param errorMsg 錯誤提示字
     */Validate:function Validate(errorMsg){var error="";Object.keys(errorMsg).forEach(function(key){if(!error&&!$("#"+key).val()){$("#"+key).removeClass("input-error");error=errorMsg[key];$("#"+key).addClass("input-error")}});return error},/**
     * SweetAlert 成功彈窗
     * @param msg 訊息
     * @param confirmFunc 確認Func
     */SweetAlertSuccess:function SweetAlertSuccess(msg,confirmFunc){if(confirmFunc!=null){Swal.fire({icon:"success",text:msg,confirmButtonText:"\u78BA\u8A8D"}).then(function(result){if(result.isConfirmed){confirmFunc()}})}else{Swal.fire({icon:"success",text:msg,confirmButtonText:"\u78BA\u8A8D"})}},/**
     * SweetAlert 失敗彈窗
     * @param error 訊息
     * @param confirmFunc 確認Func
     */SweetAlertError:function SweetAlertError(error,confirmFunc){if(confirmFunc!=null){Swal.fire({icon:"error",text:error,confirmButtonText:"\u78BA\u8A8D",focusConfirm:false}).then(function(result){if(result.isConfirmed){confirmFunc()}})}else{Swal.fire({icon:"error",text:error,confirmButtonText:"\u78BA\u8A8D",focusConfirm:false})}},/**
     * SweetAlert Loading 彈窗
     * @param msg 訊息
     */SweetAlertLoading:function SweetAlertLoading(msg){Swal.fire({title:msg,allowEscapeKey:false,allowOutsideClick:false,didOpen:function didOpen(){Swal.showLoading()}})},/**
     * SweetAlert 轉導
     * @param path 路徑
     * @param pathName 頁面名稱
     */SweetAlertRedirect:function SweetAlertRedirect(path,pathName){var timerInterval;Swal.fire({html:"<b></b> \u79D2\u5F8C \u8DF3\u8F49\u56DE".concat(pathName),timer:3000,timerProgressBar:true,showConfirmButton:false,didOpen:function didOpen(){Swal.showLoading();var b=Swal.getHtmlContainer().querySelector("b");timerInterval=setInterval(function(){b.textContent=Math.round(Swal.getTimerLeft()/1000).toString()},100)},willClose:function willClose(){clearInterval(timerInterval)}}).then(function(result){/* Read more about handling dismissals below */if(result.dismiss===Swal.DismissReason.timer){window.location.href=path}})},/**
     * 頁面註冊 Datepicker
     * @param e
     */DatepickerInit:function DatepickerInit(e){e.datepicker({changeMonth:true,changeYear:true,showMonthAfterYear:true,yearRange:"1950:2022",dateFormat:"yy-mm-dd",onSelect:function onSelect(dateText,inst){$("#year").val(inst.selectedYear);$("#month").val(inst.selectedMonth+1);$("#day").val(inst.selectedDay)}});$("#datepicker").on("change",function(){$(this).val("")});$.datepicker.regional["zh-TW"]={dayNames:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayNamesMin:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],monthNames:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthNamesShort:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],prevText:"\u4E0A\u6708",nextText:"\u6B21\u6708",weekHeader:"\u9031"};$.datepicker.setDefaults($.datepicker.regional["zh-TW"])},/**
     * SVG 元素控制
     * */ControllSVG:function ControllSVG(){jQuery("img.svg").each(function(){var $img=jQuery(this);var imgID=$img.attr("id");var imgClass=$img.attr("class");var imgURL=$img.attr("src");jQuery.get(imgURL,function(data){// Get the SVG tag, ignore the rest
var $svg=jQuery(data).find("svg");// Add replaced image's ID to the new SVG
if(typeof imgID!=="undefined"){$svg=$svg.attr("id",imgID)}// Add replaced image's classes to the new SVG
if(typeof imgClass!=="undefined"){$svg=$svg.attr("class",imgClass+" replaced-svg")}// Remove any invalid XML tags as per http://validator.w3.org
$svg=$svg.removeAttr("xmlns:a");// Check if the viewport is set, if the viewport is not set the SVG wont't scale.
if(!$svg.attr("viewBox")&&$svg.attr("height")&&$svg.attr("width")){$svg.attr("viewBox","0 0 "+$svg.attr("height")+" "+$svg.attr("width"))}// Replace image with new SVG
$img.replaceWith($svg)},"xml")})}};/**
 * 共用 API 回應狀態列舉
 * */var ResponseStatusEnum;(function(ResponseStatusEnum){ResponseStatusEnum[ResponseStatusEnum["Error"]=0]="Error";ResponseStatusEnum[ResponseStatusEnum["Success"]=1]="Success"})(ResponseStatusEnum||(ResponseStatusEnum={}));/**
 * 會員公開資訊列舉
 * */var MemberPublicInfoEnum;(function(MemberPublicInfoEnum){MemberPublicInfoEnum[MemberPublicInfoEnum["\u5168\u90E8\u4E0D\u516C\u958B"]=0]="\u5168\u90E8\u4E0D\u516C\u958B";MemberPublicInfoEnum[MemberPublicInfoEnum["\u516C\u958B\u751F\u65E5"]=1]="\u516C\u958B\u751F\u65E5";MemberPublicInfoEnum[MemberPublicInfoEnum["\u516C\u958B\u8208\u8DA3"]=2]="\u516C\u958B\u8208\u8DA3";MemberPublicInfoEnum[MemberPublicInfoEnum["\u516C\u958B\u5DE5\u4F5C"]=4]="\u516C\u958B\u5DE5\u4F5C";MemberPublicInfoEnum[MemberPublicInfoEnum["\u516C\u958B\u5B78\u6B77"]=8]="\u516C\u958B\u5B78\u6B77";MemberPublicInfoEnum[MemberPublicInfoEnum["\u5168\u90E8\u516C\u958B"]=15]="\u5168\u90E8\u516C\u958B"})(MemberPublicInfoEnum||(MemberPublicInfoEnum={}));/**
 * 會員狀態
 * */var MemberStatusEnum;(function(MemberStatusEnum){MemberStatusEnum[MemberStatusEnum["\u5728\u7DDA"]=1]="\u5728\u7DDA";MemberStatusEnum[MemberStatusEnum["\u5FD9\u788C"]=2]="\u5FD9\u788C";MemberStatusEnum[MemberStatusEnum["\u96E2\u7DDA"]=3]="\u96E2\u7DDA"})(MemberStatusEnum||(MemberStatusEnum={}));/**
 * 共用回應 ViewModel
 * */var ResponseViewModel=/** @class */function(){function ResponseViewModel(){}return ResponseViewModel}();/**
 * 登入 Request ViewModel
 * */var LoginReqViewModel=/** @class */function(){function LoginReqViewModel(account,password){this.Account=account;this.Password=password}return LoginReqViewModel}();/**
 * Google 第三方登入 Request ViewModel
 * */var GoogleLoginReqViewModel=/** @class */function(){function GoogleLoginReqViewModel(code){this.Code=code}return GoogleLoginReqViewModel}();/**
 * 寄送驗證碼 Request ViewModel
 * */var SendVCodeReqViewModel=/** @class */function(){function SendVCodeReqViewModel(mail){this.Mail=mail}return SendVCodeReqViewModel}();/**
 * 註冊 Request ViewModel
 * */var SignupReqViewModel=/** @class */function(){function SignupReqViewModel(nickName,account,password,passwordCheck,mail,vCode){this.NickName=nickName;this.Account=account;this.Password=password;this.PasswordCheck=passwordCheck;this.Mail=mail;this.VCode=vCode}return SignupReqViewModel}();/**
 * 更新會員公開資訊 Request ViewModel
 * */var UpdateMemberPublicInfoReqViewModel=/** @class */function(){function UpdateMemberPublicInfoReqViewModel(birthday,interest,job,education,memberPublicInfo){this.Birthday=birthday;this.Interest=interest;this.Job=job;this.Education=education;this.MemberPublicInfo=memberPublicInfo}return UpdateMemberPublicInfoReqViewModel}();/**
 * 重設密碼 Step1 Request ViewModel
 * */var ResetPasswordReqViewModel=/** @class */function(){function ResetPasswordReqViewModel(account,mail){this.Account=account;this.Mail=mail}return ResetPasswordReqViewModel}();/**
 * 重設密碼 Step2 Request ViewModel
 * */var ResetPasswordConfirmReqViewModel=/** @class */function(){function ResetPasswordConfirmReqViewModel(password,passwordCheck,guid){this.Password=password;this.PasswordCheck=passwordCheck;this.Guid=guid}return ResetPasswordConfirmReqViewModel}();